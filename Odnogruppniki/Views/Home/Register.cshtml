
@{
    ViewBag.Title = "Register";
}

<script type="text/javascript">
    function reg() {
        var login = $("#login").val();
        var pass = $("#pass").val();
        var passConfirm = $("#passConfirm").val();
        var id_group = 1;
        var id_role = 1;
        var data = {
            'login': login,
            'password': pass,
            'id_group': id_group,
            'id_role': id_role
        }
        if (login == "") {
            alert('Type a login!');
        } else {
            if (pass == "") {
                alert('Type a password!');
            } else {
                if (pass != passConfirm) {
                    alert('Password and its confirmation are not equals!');
                } else {
                    $.ajax({
                        url: '@Url.Action("Register", "Home")',
                        type: 'POST',
                        data: data,
                        dataType: 'json',
                        success: function (data) {
                            if (data.Success) {
                                window.location = '@Url.Action("Login","Home")';
                            } else {
                                alert(data.Error);
                            }
                        }
                    });
                }
            }
        }


    }
</script>

<br /><br /><br />
<div class="table" style="width:20%; margin-left:40%">
    <div class="row">
        <h4>Логин</h4>
        <input type="text" name="login" id="login" />
    </div>
    <div class="row">
        <h4>Пароль</h4>
        <input type="password" id="pass" />
    </div>
    <div class="row">
        <h4>Подтверждение</h4>
        <input type="password" id="passConfirm" />
    </div>
    <div class="row">
        <h4>Роль</h4>
        <select id="roleSelect" style="width:68%">
            <option disabled>Выберите роль...</option>
            <option value="1">Admin</option>
        </select>
    </div>
    <div class="row">
        <h4>Группа</h4>
        <select id="groupSelect" style="width:68%">
            <option disabled>Выберите группу...</option>
            <option value="1">PRI-116</option>
        </select>
    </div>
    <div class="row center-block" style="margin-top:15px">
        <br />
        <input type="button" id="registerButton" onclick="reg()" value="Регистрация" style="width:48%; margin-left:9%" />
    </div>
</div>
